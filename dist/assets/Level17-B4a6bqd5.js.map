{"version":3,"file":"Level17-B4a6bqd5.js","sources":["../../src/tracks/levels/Level17.js"],"sourcesContent":["/**\n * Level 17 - Storm Chase\n * Racing through an electric storm with chaotic elements\n * Medium difficulty with unpredictable patterns\n */\n\nexport default {\n  name: \"Storm Chase\",\n  description: \"Brave the lightning and chase the storm's eye\",\n  difficulty: 4,\n  shader: \"storm-electric\",\n  skybox: \"storm-clouds\", // High contrast storm skybox\n  \n  generateTrack(addSegment) {\n    // Storm approach - building intensity\n    for (let i = 0; i < 20; i++) {\n      addSegment({\n        yawDelta: Math.sin(i * 0.1) * Math.PI / 150, // Slight wind drift\n        pitchDelta: 0,\n        rollDelta: 0,\n        isStartLine: (i === 0),\n        lanes: [{ offset: 0, width: 10 }] // Ensure proper geometry\n      });\n    }\n    \n    // Wind gust section - sudden directional changes\n    const windGusts = [\n      { angle: Math.PI / 6, segments: 5 },     // 30° push right\n      { angle: -Math.PI / 4, segments: 8 },    // 45° push left\n      { angle: Math.PI / 5, segments: 6 },     // 36° push right\n      { angle: -Math.PI / 3.5, segments: 10 }, // ~51° push left\n      { angle: Math.PI / 7, segments: 4 }      // ~26° push right\n    ];\n    \n    for (const gust of windGusts) {\n      // Sudden turn from wind\n      for (let i = 0; i < gust.segments; i++) {\n        const intensity = Math.min(i / 3, 1); // Quick ramp up\n        addSegment({\n          yawDelta: (gust.angle / gust.segments) * intensity,\n          pitchDelta: Math.random() * Math.PI / 200 - Math.PI / 400, // Turbulence\n          rollDelta: (gust.angle > 0 ? 1 : -1) * Math.PI / 60 * intensity\n        });\n      }\n      \n      // Recovery straight\n      for (let i = 0; i < 3; i++) {\n        addSegment({ \n          yawDelta: 0, \n          pitchDelta: 0,\n          rollDelta: (gust.angle > 0 ? -1 : 1) * Math.PI / 180\n        });\n      }\n    }\n    \n    // Lightning strike zone - zigzag pattern\n    for (let strike = 0; strike < 4; strike++) {\n      // Sharp right\n      for (let i = 0; i < 6; i++) {\n        addSegment({\n          yawDelta: Math.PI / 24,\n          isBoost: (i === 0) // Lightning charge boost\n        });\n      }\n      // Sharp left\n      for (let i = 0; i < 6; i++) {\n        addSegment({\n          yawDelta: -Math.PI / 24\n        });\n      }\n    }\n    \n    // Eye of the storm - calm section with split paths\n    for (let i = 0; i < 5; i++) {\n      const factor = i / 5;\n      addSegment({\n        lanes: [\n          { offset: -8 * factor, width: 6 }, // Outer edge - longer\n          { offset: 8 * factor, width: 6 }   // Inner eye - shorter\n        ]\n      });\n    }\n    \n    // Different storm intensities\n    for (let i = 0; i < 25; i++) {\n      addSegment({\n        lanes: [\n          { offset: -8, width: 6 }, // Outer: more turbulent\n          { offset: 8, width: 6 }   // Inner: calmer\n        ],\n        yawDelta: i % 3 === 0 ? Math.PI / 100 : 0,\n        pitchDelta: Math.sin(i * 0.3) * Math.PI / 150\n      });\n    }\n    \n    // Merge back into storm\n    for (let i = 0; i < 5; i++) {\n      const factor = 1 - (i / 5);\n      addSegment({\n        lanes: [\n          { offset: -8 * factor, width: 6 },\n          { offset: 8 * factor, width: 6 }\n        ]\n      });\n    }\n    \n    // Downdraft section - sudden drops with better geometry\n    for (let draft = 0; draft < 3; draft++) {\n      // Level approach\n      for (let i = 0; i < 8; i++) {\n        addSegment({ \n          pitchDelta: 0,\n          lanes: [{ offset: 0, width: 10 }] // Ensure proper width\n        });\n      }\n      \n      // Add bounce pad before drop\n      if (draft === 0) { // Only on first drop to help players understand\n        addSegment({\n          isBouncePad: true,\n          lanes: [{ offset: 0, width: 10 }]\n        });\n      }\n      \n      // Sudden drop - less steep to avoid geometry issues\n      for (let i = 0; i < 10; i++) {\n        addSegment({\n          pitchDelta: -Math.PI / 55, // Less steep (was /45)\n          yawDelta: Math.sin(i * 0.5) * Math.PI / 100, // Instability\n          lanes: [{ offset: 0, width: 10 }] // Consistent width\n        });\n      }\n      \n      // Recovery flow - horizontal with slight descent\n      for (let i = 0; i < 8; i++) {\n        addSegment({\n          pitchDelta: -Math.PI / 150, // Gentle descent to maintain speed\n          yawDelta: (draft % 2 ? 1 : -1) * Math.PI / 100, // Slight curve\n          isBoost: (i < 3), // Updraft boost for momentum\n          lanes: [{ offset: 0, width: 10 }] // Consistent width\n        });\n      }\n    }\n    \n    // Tornado alley - horizontal chaos section\n    for (let i = 0; i < 40; i++) {\n      const chaosIntensity = Math.sin(i * 0.1) * 0.5 + 0.5;\n      const direction = Math.floor(i / 5) % 2 ? 1 : -1; // Alternating directions\n      \n      addSegment({\n        yawDelta: direction * Math.PI / 25 * chaosIntensity, // Sharp horizontal turns\n        pitchDelta: 0, // Keep it flat for speed\n        rollDelta: direction * Math.PI / 40, // Heavy banking\n        isBoost: (i % 10 === 0) // Periodic tornado boosts\n      });\n    }\n    \n    // Storm escape - high speed finale\n    for (let i = 0; i < 30; i++) {\n      addSegment({\n        yawDelta: Math.sin(i * 0.1) * Math.PI / 100,\n        pitchDelta: i < 15 ? -Math.PI / 100 : 0, // Slight downhill for speed\n        rollDelta: 0,\n        isBoost: (i >= 10 && i <= 15), // Storm push boost\n        isFinishLine: (i === 29)\n      });\n    }\n  }\n};"],"names":["Level17","addSegment","i","windGusts","gust","intensity","strike","factor","draft","chaosIntensity","direction"],"mappings":"AAMA,MAAAA,EAAe,CACb,KAAM,cACN,YAAa,gDACb,WAAY,EACZ,OAAQ,iBACR,OAAQ,eAER,cAAcC,EAAY,CAExB,QAASC,EAAI,EAAGA,EAAI,GAAIA,IACtBD,EAAW,CACT,SAAU,KAAK,IAAIC,EAAI,EAAG,EAAI,KAAK,GAAK,IACxC,WAAY,EACZ,UAAW,EACX,YAAcA,IAAM,EACpB,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAO,EAAE,CAAE,CACxC,CAAO,EAIH,MAAMC,EAAY,CAChB,CAAE,MAAO,KAAK,GAAK,EAAG,SAAU,CAAC,EACjC,CAAE,MAAO,CAAC,KAAK,GAAK,EAAG,SAAU,CAAC,EAClC,CAAE,MAAO,KAAK,GAAK,EAAG,SAAU,CAAC,EACjC,CAAE,MAAO,CAAC,KAAK,GAAK,IAAK,SAAU,EAAE,EACrC,CAAE,MAAO,KAAK,GAAK,EAAG,SAAU,CAAC,CACvC,EAEI,UAAWC,KAAQD,EAAW,CAE5B,QAASD,EAAI,EAAGA,EAAIE,EAAK,SAAUF,IAAK,CACtC,MAAMG,EAAY,KAAK,IAAIH,EAAI,EAAG,CAAC,EACnCD,EAAW,CACT,SAAWG,EAAK,MAAQA,EAAK,SAAYC,EACzC,WAAY,KAAK,SAAW,KAAK,GAAK,IAAM,KAAK,GAAK,IACtD,WAAYD,EAAK,MAAQ,EAAI,EAAI,IAAM,KAAK,GAAK,GAAKC,CAChE,CAAS,CACH,CAGA,QAASH,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAW,CACT,SAAU,EACV,WAAY,EACZ,WAAYG,EAAK,MAAQ,EAAI,GAAK,GAAK,KAAK,GAAK,GAC3D,CAAS,CAEL,CAGA,QAASE,EAAS,EAAGA,EAAS,EAAGA,IAAU,CAEzC,QAASJ,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAW,CACT,SAAU,KAAK,GAAK,GACpB,QAAUC,IAAM,CAC1B,CAAS,EAGH,QAASA,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAW,CACT,SAAU,CAAC,KAAK,GAAK,EAC/B,CAAS,CAEL,CAGA,QAASC,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMK,EAASL,EAAI,EACnBD,EAAW,CACT,MAAO,CACL,CAAE,OAAQ,GAAKM,EAAQ,MAAO,CAAC,EAC/B,CAAE,OAAQ,EAAIA,EAAQ,MAAO,CAAC,CACxC,CACA,CAAO,CACH,CAGA,QAASL,EAAI,EAAGA,EAAI,GAAIA,IACtBD,EAAW,CACT,MAAO,CACL,CAAE,OAAQ,GAAI,MAAO,CAAC,EACtB,CAAE,OAAQ,EAAG,MAAO,CAAC,CAC/B,EACQ,SAAUC,EAAI,IAAM,EAAI,KAAK,GAAK,IAAM,EACxC,WAAY,KAAK,IAAIA,EAAI,EAAG,EAAI,KAAK,GAAK,GAClD,CAAO,EAIH,QAASA,EAAI,EAAGA,EAAI,EAAGA,IAAK,CAC1B,MAAMK,EAAS,EAAKL,EAAI,EACxBD,EAAW,CACT,MAAO,CACL,CAAE,OAAQ,GAAKM,EAAQ,MAAO,CAAC,EAC/B,CAAE,OAAQ,EAAIA,EAAQ,MAAO,CAAC,CACxC,CACA,CAAO,CACH,CAGA,QAASC,EAAQ,EAAGA,EAAQ,EAAGA,IAAS,CAEtC,QAASN,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAW,CACT,WAAY,EACZ,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAO,EAAE,CAAE,CAC1C,CAAS,EAICO,IAAU,GACZP,EAAW,CACT,YAAa,GACb,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAO,EAAE,CAAE,CAC1C,CAAS,EAIH,QAASC,EAAI,EAAGA,EAAI,GAAIA,IACtBD,EAAW,CACT,WAAY,CAAC,KAAK,GAAK,GACvB,SAAU,KAAK,IAAIC,EAAI,EAAG,EAAI,KAAK,GAAK,IACxC,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAO,EAAE,CAAE,CAC1C,CAAS,EAIH,QAASA,EAAI,EAAGA,EAAI,EAAGA,IACrBD,EAAW,CACT,WAAY,CAAC,KAAK,GAAK,IACvB,UAAWO,EAAQ,EAAI,EAAI,IAAM,KAAK,GAAK,IAC3C,QAAUN,EAAI,EACd,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAO,EAAE,CAAE,CAC1C,CAAS,CAEL,CAGA,QAASA,EAAI,EAAGA,EAAI,GAAIA,IAAK,CAC3B,MAAMO,EAAiB,KAAK,IAAIP,EAAI,EAAG,EAAI,GAAM,GAC3CQ,EAAY,KAAK,MAAMR,EAAI,CAAC,EAAI,EAAI,EAAI,GAE9CD,EAAW,CACT,SAAUS,EAAY,KAAK,GAAK,GAAKD,EACrC,WAAY,EACZ,UAAWC,EAAY,KAAK,GAAK,GACjC,QAAUR,EAAI,KAAO,CAC7B,CAAO,CACH,CAGA,QAASA,EAAI,EAAGA,EAAI,GAAIA,IACtBD,EAAW,CACT,SAAU,KAAK,IAAIC,EAAI,EAAG,EAAI,KAAK,GAAK,IACxC,WAAYA,EAAI,GAAK,CAAC,KAAK,GAAK,IAAM,EACtC,UAAW,EACX,QAAUA,GAAK,IAAMA,GAAK,GAC1B,aAAeA,IAAM,EAC7B,CAAO,CAEL,CACF"}