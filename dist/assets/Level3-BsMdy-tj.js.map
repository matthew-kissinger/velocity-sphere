{"version":3,"file":"Level3-BsMdy-tj.js","sources":["../../src/tracks/levels/Level3.js"],"sourcesContent":["/**\r\n * Level 3 - Spectrum\r\n * Classic rainbow track with balanced challenge\r\n */\r\n\r\nexport default {\r\n  name: \"Spectrum\",\r\n  description: \"Flowing curves and rhythmic sections with rainbow aesthetics\",\r\n  difficulty: 3,\r\n  shader: \"rainbow-flow\", // Default rainbow shader\r\n  skybox: \"sunset-vibes\", // Default bright skybox\r\n  \r\n  generateTrack(addSegment, addLoop) {\r\n    // Level 3: Advanced track with challenging but manageable elements\r\n    // --- Section 1: Starting straight ---\r\n    const startCount3 = 30;\r\n    for (let i = 0; i < startCount3; i++) {\r\n      addSegment({\r\n        yawDelta: 0,\r\n        pitchDelta: 0,\r\n        rollDelta: 0,\r\n        isStartLine: (i === 0)\r\n      });\r\n    }\r\n    \r\n    // --- Section 2: Wide sweeping curves with banking ---\r\n    const sweepingCurves = [\r\n      { angle: Math.PI / 3, segments: 18, bank: Math.PI / 12 },  // 60 degree right turn\r\n      { angle: -Math.PI / 4, segments: 15, bank: -Math.PI / 12 }, // 45 degree left turn\r\n    ];\r\n    \r\n    for (const curve of sweepingCurves) {\r\n      const yawPerSegment = curve.angle / curve.segments;\r\n      const bankPerSegment = curve.bank / curve.segments;\r\n      \r\n      // Enter banking\r\n      for (let i = 0; i < 3; i++) {\r\n        addSegment({ \r\n          yawDelta: 0,\r\n          pitchDelta: 0,\r\n          rollDelta: bankPerSegment\r\n        });\r\n      }\r\n      \r\n      // Main curve with full banking\r\n      for (let i = 0; i < curve.segments; i++) {\r\n        addSegment({ \r\n          yawDelta: yawPerSegment,\r\n          pitchDelta: 0,\r\n          rollDelta: 0\r\n        });\r\n      }\r\n      \r\n      // Exit banking\r\n      for (let i = 0; i < 3; i++) {\r\n        addSegment({ \r\n          yawDelta: 0,\r\n          pitchDelta: 0,\r\n          rollDelta: -bankPerSegment\r\n        });\r\n      }\r\n      \r\n      // Short straight between curves\r\n      for (let i = 0; i < 5; i++) {\r\n        addSegment({ yawDelta: 0, pitchDelta: 0, rollDelta: 0 });\r\n      }\r\n    }\r\n    \r\n    // --- Section 3: Moderate hills (not too high) ---\r\n    const hills = [\r\n      { up: 8, down: 8, angle: Math.PI / 12 },  // Small hill\r\n      { up: 10, down: 10, angle: Math.PI / 10 } // Medium hill\r\n    ];\r\n    \r\n    for (const hill of hills) {\r\n      // Up\r\n      for (let i = 0; i < hill.up; i++) {\r\n        addSegment({ pitchDelta: hill.angle / hill.up });\r\n      }\r\n      // Down\r\n      for (let i = 0; i < hill.down; i++) {\r\n        addSegment({ pitchDelta: -hill.angle / hill.down });\r\n      }\r\n    }\r\n    \r\n    // --- Section 4: Major jump ---\r\n    const rampUp3 = 10;\r\n    const rampAngle3 = Math.PI / 6; // 30 degrees\r\n    for (let i = 0; i < rampUp3; i++) {\r\n      addSegment({ pitchDelta: rampAngle3 / rampUp3 });\r\n    }\r\n    // Gap\r\n    const gap3 = 4;\r\n    for (let i = 0; i < gap3; i++) {\r\n      addSegment({ isGap: true });\r\n    }\r\n    const rampDown3 = 10;\r\n    for (let i = 0; i < rampDown3; i++) {\r\n      addSegment({ pitchDelta: -rampAngle3 / rampDown3 });\r\n    }\r\n    \r\n    // --- Section 5: Horizontal Spiral (stays at same height) ---\r\n    // Wide turning spiral that doesn't descend\r\n    const spiralSegments = 40;\r\n    const spiralTurns = 1.25; // 1.25 complete turns\r\n    \r\n    // Entry to spiral - establish banking\r\n    for (let i = 0; i < 3; i++) {\r\n      addSegment({\r\n        yawDelta: 0,\r\n        pitchDelta: 0,\r\n        rollDelta: Math.PI / 36 // Gentle banking\r\n      });\r\n    }\r\n    \r\n    // Main spiral - constant height\r\n    const yawPerSegment = (Math.PI * 2 * spiralTurns) / spiralSegments;\r\n    for (let i = 0; i < spiralSegments; i++) {\r\n      addSegment({\r\n        yawDelta: yawPerSegment,\r\n        pitchDelta: 0, // Stay level\r\n        rollDelta: 0\r\n      });\r\n    }\r\n    \r\n    // Exit spiral - remove banking\r\n    for (let i = 0; i < 3; i++) {\r\n      addSegment({\r\n        yawDelta: 0,\r\n        pitchDelta: 0,\r\n        rollDelta: -Math.PI / 36\r\n      });\r\n    }\r\n    \r\n    // Recovery straight\r\n    for (let i = 0; i < 8; i++) {\r\n      addSegment({ yawDelta: 0, pitchDelta: 0, rollDelta: 0 });\r\n    }\r\n    \r\n    // --- Section 6: Chicane Section ---\r\n    const chicane = [\r\n      { yaw: Math.PI / 6, segments: 6 },   // 30 degree right\r\n      { yaw: -Math.PI / 3, segments: 8 },  // 60 degree left  \r\n      { yaw: Math.PI / 6, segments: 6 }    // 30 degree right back to straight\r\n    ];\r\n    \r\n    for (const turn of chicane) {\r\n      const yawPerSegment = turn.yaw / turn.segments;\r\n      \r\n      for (let i = 0; i < turn.segments; i++) {\r\n        addSegment({ \r\n          yawDelta: yawPerSegment,\r\n          pitchDelta: 0,\r\n          rollDelta: 0\r\n        });\r\n      }\r\n    }\r\n    \r\n    // --- Section 7: Double Jump ---\r\n    const jumps = [\r\n      { ramp: 6, gap: 3, land: 6 },\r\n      { straight: 8 },\r\n      { ramp: 8, gap: 4, land: 8 }\r\n    ];\r\n    \r\n    for (const section of jumps) {\r\n      if (section.ramp) {\r\n        // Ramp up\r\n        for (let i = 0; i < section.ramp; i++) {\r\n          addSegment({ pitchDelta: (Math.PI / 7) / section.ramp });\r\n        }\r\n        // Gap\r\n        for (let i = 0; i < section.gap; i++) {\r\n          addSegment({ isGap: true });\r\n        }\r\n        // Landing\r\n        for (let i = 0; i < section.land; i++) {\r\n          addSegment({ pitchDelta: -(Math.PI / 7) / section.land });\r\n        }\r\n      } else if (section.straight) {\r\n        for (let i = 0; i < section.straight; i++) {\r\n          addSegment({ yawDelta: 0, pitchDelta: 0, rollDelta: 0 });\r\n        }\r\n      }\r\n    }\r\n    \r\n    // --- Section 8: Split Path ---\r\n    const splitSection = 25;\r\n    for (let i = 0; i < splitSection; i++) {\r\n      let lanes;\r\n      if (i < 5) {\r\n        // Gradual split\r\n        const splitFactor = i / 5;\r\n        lanes = [\r\n          { offset: -6.0 * splitFactor, width: 5.0 },\r\n          { offset: 6.0 * splitFactor, width: 5.0 }\r\n        ];\r\n      } else if (i < 20) {\r\n        // Full split\r\n        lanes = [\r\n          { offset: -6.0, width: 5.0 },\r\n          { offset: 6.0, width: 5.0 }\r\n        ];\r\n      } else {\r\n        // Merge back\r\n        const mergeFactor = 1 - (i - 20) / 5;\r\n        lanes = [\r\n          { offset: -6.0 * mergeFactor, width: 5.0 },\r\n          { offset: 6.0 * mergeFactor, width: 5.0 }\r\n        ];\r\n      }\r\n      addSegment({ lanes });\r\n    }\r\n    \r\n    // --- Section 9: Final Sprint ---\r\n    const finalSprint = 20;\r\n    for (let i = 0; i < finalSprint; i++) {\r\n      addSegment({ \r\n        yawDelta: 0,\r\n        pitchDelta: 0,\r\n        rollDelta: 0,\r\n        isFinishLine: (i === finalSprint - 1) \r\n      });\r\n    }\r\n  }\r\n};"],"names":["Level3","addSegment","addLoop","i","sweepingCurves","curve","yawPerSegment","bankPerSegment","hills","hill","rampUp3","rampAngle3","gap3","rampDown3","spiralSegments","spiralTurns","chicane","turn","jumps","section","splitSection","lanes","splitFactor","mergeFactor","finalSprint"],"mappings":"AAKA,MAAAA,EAAe,CACb,KAAM,WACN,YAAa,+DACb,WAAY,EACZ,OAAQ,eACR,OAAQ,eAER,cAAcC,EAAYC,EAAS,CAIjC,QAASC,EAAI,EAAGA,EAAI,GAAaA,IAC/BF,EAAW,CACT,SAAU,EACV,WAAY,EACZ,UAAW,EACX,YAAcE,IAAM,CAC5B,CAAO,EAIH,MAAMC,EAAiB,CACrB,CAAE,MAAO,KAAK,GAAK,EAAG,SAAU,GAAI,KAAM,KAAK,GAAK,EAAE,EACtD,CAAE,MAAO,CAAC,KAAK,GAAK,EAAG,SAAU,GAAI,KAAM,CAAC,KAAK,GAAK,EAAE,CAC9D,EAEI,UAAWC,KAASD,EAAgB,CAClC,MAAME,EAAgBD,EAAM,MAAQA,EAAM,SACpCE,EAAiBF,EAAM,KAAOA,EAAM,SAG1C,QAASF,EAAI,EAAGA,EAAI,EAAGA,IACrBF,EAAW,CACT,SAAU,EACV,WAAY,EACZ,UAAWM,CACrB,CAAS,EAIH,QAASJ,EAAI,EAAGA,EAAIE,EAAM,SAAUF,IAClCF,EAAW,CACT,SAAUK,EACV,WAAY,EACZ,UAAW,CACrB,CAAS,EAIH,QAASH,EAAI,EAAGA,EAAI,EAAGA,IACrBF,EAAW,CACT,SAAU,EACV,WAAY,EACZ,UAAW,CAACM,CACtB,CAAS,EAIH,QAASJ,EAAI,EAAGA,EAAI,EAAGA,IACrBF,EAAW,CAAE,SAAU,EAAG,WAAY,EAAG,UAAW,CAAC,CAAE,CAE3D,CAGA,MAAMO,EAAQ,CACZ,CAAE,GAAI,EAAG,KAAM,EAAG,MAAO,KAAK,GAAK,EAAE,EACrC,CAAE,GAAI,GAAI,KAAM,GAAI,MAAO,KAAK,GAAK,EAAE,CAC7C,EAEI,UAAWC,KAAQD,EAAO,CAExB,QAASL,EAAI,EAAGA,EAAIM,EAAK,GAAIN,IAC3BF,EAAW,CAAE,WAAYQ,EAAK,MAAQA,EAAK,EAAE,CAAE,EAGjD,QAASN,EAAI,EAAGA,EAAIM,EAAK,KAAMN,IAC7BF,EAAW,CAAE,WAAY,CAACQ,EAAK,MAAQA,EAAK,IAAI,CAAE,CAEtD,CAGA,MAAMC,EAAU,GACVC,EAAa,KAAK,GAAK,EAC7B,QAASR,EAAI,EAAGA,EAAIO,EAASP,IAC3BF,EAAW,CAAE,WAAYU,EAAaD,CAAO,CAAE,EAGjD,MAAME,EAAO,EACb,QAAST,EAAI,EAAGA,EAAIS,EAAMT,IACxBF,EAAW,CAAE,MAAO,EAAI,CAAE,EAE5B,MAAMY,EAAY,GAClB,QAASV,EAAI,EAAGA,EAAIU,EAAWV,IAC7BF,EAAW,CAAE,WAAY,CAACU,EAAaE,CAAS,CAAE,EAKpD,MAAMC,EAAiB,GACjBC,EAAc,KAGpB,QAASZ,EAAI,EAAGA,EAAI,EAAGA,IACrBF,EAAW,CACT,SAAU,EACV,WAAY,EACZ,UAAW,KAAK,GAAK,EAC7B,CAAO,EAIH,MAAMK,EAAiB,KAAK,GAAK,EAAIS,EAAeD,EACpD,QAASX,EAAI,EAAGA,EAAIW,EAAgBX,IAClCF,EAAW,CACT,SAAUK,EACV,WAAY,EACZ,UAAW,CACnB,CAAO,EAIH,QAASH,EAAI,EAAGA,EAAI,EAAGA,IACrBF,EAAW,CACT,SAAU,EACV,WAAY,EACZ,UAAW,CAAC,KAAK,GAAK,EAC9B,CAAO,EAIH,QAASE,EAAI,EAAGA,EAAI,EAAGA,IACrBF,EAAW,CAAE,SAAU,EAAG,WAAY,EAAG,UAAW,CAAC,CAAE,EAIzD,MAAMe,EAAU,CACd,CAAE,IAAK,KAAK,GAAK,EAAG,SAAU,CAAC,EAC/B,CAAE,IAAK,CAAC,KAAK,GAAK,EAAG,SAAU,CAAC,EAChC,CAAE,IAAK,KAAK,GAAK,EAAG,SAAU,CAAC,CACrC,EAEI,UAAWC,KAAQD,EAAS,CAC1B,MAAMV,EAAgBW,EAAK,IAAMA,EAAK,SAEtC,QAASd,EAAI,EAAGA,EAAIc,EAAK,SAAUd,IACjCF,EAAW,CACT,SAAUK,EACV,WAAY,EACZ,UAAW,CACrB,CAAS,CAEL,CAGA,MAAMY,EAAQ,CACZ,CAAE,KAAM,EAAG,IAAK,EAAG,KAAM,CAAC,EAC1B,CAAE,SAAU,CAAC,EACb,CAAE,KAAM,EAAG,IAAK,EAAG,KAAM,CAAC,CAChC,EAEI,UAAWC,KAAWD,EACpB,GAAIC,EAAQ,KAAM,CAEhB,QAAShB,EAAI,EAAGA,EAAIgB,EAAQ,KAAMhB,IAChCF,EAAW,CAAE,WAAa,KAAK,GAAK,EAAKkB,EAAQ,IAAI,CAAE,EAGzD,QAAShB,EAAI,EAAGA,EAAIgB,EAAQ,IAAKhB,IAC/BF,EAAW,CAAE,MAAO,EAAI,CAAE,EAG5B,QAASE,EAAI,EAAGA,EAAIgB,EAAQ,KAAMhB,IAChCF,EAAW,CAAE,WAAY,EAAE,KAAK,GAAK,GAAKkB,EAAQ,IAAI,CAAE,CAE5D,SAAWA,EAAQ,SACjB,QAAShB,EAAI,EAAGA,EAAIgB,EAAQ,SAAUhB,IACpCF,EAAW,CAAE,SAAU,EAAG,WAAY,EAAG,UAAW,CAAC,CAAE,EAM7D,MAAMmB,EAAe,GACrB,QAASjB,EAAI,EAAGA,EAAIiB,EAAcjB,IAAK,CACrC,IAAIkB,EACJ,GAAIlB,EAAI,EAAG,CAET,MAAMmB,EAAcnB,EAAI,EACxBkB,EAAQ,CACN,CAAE,OAAQ,GAAOC,EAAa,MAAO,CAAG,EACxC,CAAE,OAAQ,EAAMA,EAAa,MAAO,CAAG,CACjD,CACM,SAAWnB,EAAI,GAEbkB,EAAQ,CACN,CAAE,OAAQ,GAAM,MAAO,CAAG,EAC1B,CAAE,OAAQ,EAAK,MAAO,CAAG,CACnC,MACa,CAEL,MAAME,EAAc,GAAKpB,EAAI,IAAM,EACnCkB,EAAQ,CACN,CAAE,OAAQ,GAAOE,EAAa,MAAO,CAAG,EACxC,CAAE,OAAQ,EAAMA,EAAa,MAAO,CAAG,CACjD,CACM,CACAtB,EAAW,CAAE,MAAAoB,CAAK,CAAE,CACtB,CAGA,MAAMG,EAAc,GACpB,QAASrB,EAAI,EAAGA,EAAIqB,EAAarB,IAC/BF,EAAW,CACT,SAAU,EACV,WAAY,EACZ,UAAW,EACX,aAAeE,IAAMqB,EAAc,CAC3C,CAAO,CAEL,CACF"}