{"version":3,"file":"Level3-Deno8YzD.js","sources":["../../src/tracks/levels/Level3.js"],"sourcesContent":["/**\r\n * Level 3 - Corkscrew Chaos\r\n * Exact copy from original velocity_sphere.html\r\n */\r\n\r\nexport default {\r\n  name: \"Corkscrew Chaos\",\r\n  description: \"Advanced track with a larger jump, corkscrew and split\",\r\n  difficulty: 3,\r\n  \r\n  generateTrack(addSegment) {\r\n    // Level 3: advanced track with a larger jump, corkscrew and split\r\n    // --- Section 1: Long starting straight with boost ---\r\n    const startCount3 = 50;\r\n    for (let i = 0; i < startCount3; i++) {\r\n      addSegment({\r\n        yawDelta: 0,\r\n        pitchDelta: 0,\r\n        rollDelta: 0,\r\n        isStartLine: (i === 0)\r\n      });\r\n    }\r\n    \r\n    // --- Section 2: Large banked left curve (90 degrees) ---\r\n    const bankLeftCount3 = 40;\r\n    const totalYawLeft3 = -Math.PI / 2;\r\n    const yawStepLeft3 = totalYawLeft3 / bankLeftCount3;\r\n    const bankAngle3 = -Math.PI / 4; // -45 degrees bank\r\n    for (let i = 0; i < bankLeftCount3; i++) {\r\n      let rollDelta = 0;\r\n      if (i < bankLeftCount3 / 3) {\r\n        rollDelta = bankAngle3 / (bankLeftCount3 / 3);\r\n      } else if (i > 2 * bankLeftCount3 / 3) {\r\n        rollDelta = -bankAngle3 / (bankLeftCount3 / 3);\r\n      }\r\n      addSegment({ yawDelta: yawStepLeft3, rollDelta });\r\n    }\r\n    \r\n    // --- Section 3: Series of hills ---\r\n    const hills3 = 30;\r\n    const maxHill3 = Math.PI / 12; // 15 degrees\r\n    for (let i = 0; i < hills3; i++) {\r\n      const pitchDelta = (i < hills3 / 2 ? maxHill3 / (hills3 / 2) : -maxHill3 / (hills3 / 2));\r\n      addSegment({ pitchDelta });\r\n    }\r\n    \r\n    // --- Section 4: Major jump ---\r\n    const rampUp3 = 15;\r\n    const rampAngle3 = Math.PI / 4; // 45 degrees\r\n    for (let i = 0; i < rampUp3; i++) {\r\n      addSegment({ pitchDelta: rampAngle3 / rampUp3 });\r\n    }\r\n    // Bigger gap for level 3\r\n    const gap3 = 6;\r\n    for (let i = 0; i < gap3; i++) {\r\n      addSegment({ isGap: true });\r\n    }\r\n    const rampDown3 = 15;\r\n    for (let i = 0; i < rampDown3; i++) {\r\n      addSegment({ pitchDelta: -rampAngle3 / rampDown3 });\r\n    }\r\n    \r\n    // --- Section 5: Corkscrew with vertical entry/exit ramps ---\r\n    \r\n    // Shift sideways for the corkscrew\r\n    addSegment({ \r\n      lateralShift: 15.0 // Increased lateral shift for better clearance\r\n    });\r\n    \r\n    // Entry quarter pipe - curve up 90 degrees\r\n    const entryRampCount = 20;\r\n    const entryAngle = Math.PI / 2; // 90 degrees up\r\n    for (let i = 0; i < entryRampCount; i++) {\r\n      addSegment({ \r\n        pitchDelta: entryAngle / entryRampCount,\r\n        rollDelta: 0\r\n      });\r\n    }\r\n    \r\n    // Corkscrew twist (full 360-degree roll while horizontal)\r\n    const corkCount = 40;\r\n    const totalRoll = Math.PI * 2;\r\n    const rollStep = totalRoll / corkCount;\r\n    for (let i = 0; i < corkCount; i++) {\r\n      addSegment({ \r\n        rollDelta: rollStep,\r\n        pitchDelta: 0\r\n      });\r\n    }\r\n    \r\n    // Exit quarter pipe - curve down 90 degrees\r\n    const exitRampCount = 20;\r\n    const exitAngle = -Math.PI / 2; // 90 degrees down\r\n    for (let i = 0; i < exitRampCount; i++) {\r\n      addSegment({ \r\n        pitchDelta: exitAngle / exitRampCount,\r\n        rollDelta: 0\r\n      });\r\n    }\r\n    \r\n    // Shift back to original position\r\n    addSegment({ \r\n      lateralShift: -15.0\r\n    });\r\n    \r\n    // --- Section 6: Split with alternating boosts ---\r\n    const split3 = 40;\r\n    for (let i = 0; i < split3; i++) {\r\n      const lanes = [\r\n        { offset: -8.0, width: 4.0 },\r\n        { offset: 8.0,  width: 4.0 }\r\n      ];\r\n      addSegment({ lanes });\r\n    }\r\n    \r\n    // --- Section 7: Banked right curve ---\r\n    const rightCurve3 = 40;\r\n    const totalYawRight3 = Math.PI / 2;\r\n    const yawStepRight3 = totalYawRight3 / rightCurve3;\r\n    const bankAngleR3 = Math.PI / 4;\r\n    for (let i = 0; i < rightCurve3; i++) {\r\n      let rollDelta = 0;\r\n      if (i < rightCurve3 / 3) {\r\n        rollDelta = bankAngleR3 / (rightCurve3 / 3);\r\n      } else if (i > 2 * rightCurve3 / 3) {\r\n        rollDelta = -bankAngleR3 / (rightCurve3 / 3);\r\n      }\r\n      addSegment({ yawDelta: yawStepRight3, rollDelta });\r\n    }\r\n    \r\n    // --- Section 8: Long final straight with finish line ---\r\n    const finish3 = 50;\r\n    for (let i = 0; i < finish3; i++) {\r\n      addSegment({ isFinishLine: (i === finish3 - 1) });\r\n    }\r\n  }\r\n};"],"names":["Level3","addSegment","i","bankLeftCount3","yawStepLeft3","bankAngle3","rollDelta","hills3","maxHill3","pitchDelta","rampUp3","rampAngle3","gap3","rampDown3","entryRampCount","entryAngle","corkCount","rollStep","exitRampCount","exitAngle","split3","rightCurve3","yawStepRight3","bankAngleR3","finish3"],"mappings":"AAKA,MAAAA,EAAe,CACb,KAAM,kBACN,YAAa,yDACb,WAAY,EAEZ,cAAcC,EAAY,CAIxB,QAASC,EAAI,EAAGA,EAAI,GAAaA,IAC/BD,EAAW,CACT,SAAU,EACV,WAAY,EACZ,UAAW,EACX,YAAcC,IAAM,CAC5B,CAAO,EAIH,MAAMC,EAAiB,GAEjBC,EADgB,CAAC,KAAK,GAAK,EACID,EAC/BE,EAAa,CAAC,KAAK,GAAK,EAC9B,QAASH,EAAI,EAAGA,EAAIC,EAAgBD,IAAK,CACvC,IAAII,EAAY,EACZJ,EAAIC,EAAiB,EACvBG,EAAYD,GAAcF,EAAiB,GAClCD,EAAI,EAAIC,EAAiB,IAClCG,EAAY,CAACD,GAAcF,EAAiB,IAE9CF,EAAW,CAAE,SAAUG,EAAc,UAAAE,CAAS,CAAE,CAClD,CAGA,MAAMC,EAAS,GACTC,EAAW,KAAK,GAAK,GAC3B,QAASN,EAAI,EAAGA,EAAIK,EAAQL,IAAK,CAC/B,MAAMO,EAAcP,EAAIK,EAAS,EAAIC,GAAYD,EAAS,GAAK,CAACC,GAAYD,EAAS,GACrFN,EAAW,CAAE,WAAAQ,CAAU,CAAE,CAC3B,CAGA,MAAMC,EAAU,GACVC,EAAa,KAAK,GAAK,EAC7B,QAAST,EAAI,EAAGA,EAAIQ,EAASR,IAC3BD,EAAW,CAAE,WAAYU,EAAaD,CAAO,CAAE,EAGjD,MAAME,EAAO,EACb,QAASV,EAAI,EAAGA,EAAIU,EAAMV,IACxBD,EAAW,CAAE,MAAO,EAAI,CAAE,EAE5B,MAAMY,EAAY,GAClB,QAASX,EAAI,EAAGA,EAAIW,EAAWX,IAC7BD,EAAW,CAAE,WAAY,CAACU,EAAaE,CAAS,CAAE,EAMpDZ,EAAW,CACT,aAAc,EACpB,CAAK,EAGD,MAAMa,EAAiB,GACjBC,EAAa,KAAK,GAAK,EAC7B,QAASb,EAAI,EAAGA,EAAIY,EAAgBZ,IAClCD,EAAW,CACT,WAAYc,EAAaD,EACzB,UAAW,CACnB,CAAO,EAIH,MAAME,EAAY,GAEZC,EADY,KAAK,GAAK,EACCD,EAC7B,QAASd,EAAI,EAAGA,EAAIc,EAAWd,IAC7BD,EAAW,CACT,UAAWgB,EACX,WAAY,CACpB,CAAO,EAIH,MAAMC,EAAgB,GAChBC,EAAY,CAAC,KAAK,GAAK,EAC7B,QAASjB,EAAI,EAAGA,EAAIgB,EAAehB,IACjCD,EAAW,CACT,WAAYkB,EAAYD,EACxB,UAAW,CACnB,CAAO,EAIHjB,EAAW,CACT,aAAc,GACpB,CAAK,EAGD,MAAMmB,EAAS,GACf,QAASlB,EAAI,EAAGA,EAAIkB,EAAQlB,IAK1BD,EAAW,CAAE,MAJC,CACZ,CAAE,OAAQ,GAAM,MAAO,CAAG,EAC1B,CAAE,OAAQ,EAAM,MAAO,CAAG,CAClC,CACwB,CAAE,EAItB,MAAMoB,EAAc,GAEdC,EADiB,KAAK,GAAK,EACMD,EACjCE,EAAc,KAAK,GAAK,EAC9B,QAASrB,EAAI,EAAGA,EAAImB,EAAanB,IAAK,CACpC,IAAII,EAAY,EACZJ,EAAImB,EAAc,EACpBf,EAAYiB,GAAeF,EAAc,GAChCnB,EAAI,EAAImB,EAAc,IAC/Bf,EAAY,CAACiB,GAAeF,EAAc,IAE5CpB,EAAW,CAAE,SAAUqB,EAAe,UAAAhB,CAAS,CAAE,CACnD,CAGA,MAAMkB,EAAU,GAChB,QAAStB,EAAI,EAAGA,EAAIsB,EAAStB,IAC3BD,EAAW,CAAE,aAAeC,IAAMsB,EAAU,CAAE,CAAE,CAEpD,CACF"}