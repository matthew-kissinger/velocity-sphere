{"version":3,"file":"Presets-BMcEmAL6.js","sources":["../../src/tracks/generation/helpers/Presets.js"],"sourcesContent":["// Composition presets built from low-level Patterns helpers\r\nimport { AdvancedPatterns as A } from './Patterns.js';\r\n\r\n/** Long weave while descending. */\r\nexport function addLongWeaveDescent(addSegment, {\r\n  length = 48,\r\n  pitchStep = Math.PI/120, // positive = downward\r\n  weaveAmp = Math.PI/220,\r\n  width = 12\r\n} = {}) {\r\n  for (let i = 0; i < length; i++) {\r\n    const weave = Math.sin(i * 0.22) * weaveAmp;\r\n    addSegment({ yawDelta: weave, pitchDelta: pitchStep, lanes: [{ offset: 0, width }] });\r\n  }\r\n}\r\n\r\n/** Tabletop (ramp-gap-mid-gap-landing) repeated. Landing is widened. */\r\nexport function addTabletopSequence(addSegment, {\r\n  count = 2,\r\n  up = 6,\r\n  gap1 = 4,\r\n  mid = 6,\r\n  gap2 = 4,\r\n  down = 6,\r\n  width = 12,\r\n  landingLen = 12,\r\n  landingWidth = 18\r\n} = {}) {\r\n  for (let t = 0; t < count; t++) {\r\n    A.addRampGapLanding(addSegment, { up, gap: gap1, down: 0, boostOnFirst: 2, width, landingLen: mid, landingWidth: width });\r\n    for (let i = 0; i < gap2; i++) addSegment({ isGap: true });\r\n    for (let i = 0; i < down; i++) addSegment({ pitchDelta: -Math.PI/90, lanes: [{ offset: 0, width }] });\r\n    for (let i = 0; i < landingLen; i++) addSegment({ lanes: [{ offset: 0, width: landingWidth }] });\r\n  }\r\n}\r\n\r\n/** Spiral stair: helical yaw with gentle negative pitch. */\r\nexport function addSpiralStairDescent(addSegment, {\r\n  turns = 1.5,\r\n  segmentsPerTurn = 36,\r\n  direction = 1,\r\n  width = 12,\r\n  pitchPerStep = Math.PI/180 // positive = downward\r\n} = {}) {\r\n  A.addSpiralDescent(addSegment, { turns, segmentsPerTurn, direction, width, pitchPerStep });\r\n}\r\n\r\n/** Two alternating switchbacks, descending between them. */\r\nexport function addSwitchbackDescent(addSegment, {\r\n  dropLen = 10,\r\n  turnSegments = 18,\r\n  width = 12\r\n} = {}) {\r\n  A.addMegaDrop(addSegment, { length: dropLen, pitchStep: Math.PI/110, width });\r\n  A.addBankedTurn(addSegment, { segments: turnSegments, yawPerStep: Math.PI/60, bankSteps: 3, bankStep: Math.PI/40, direction: 1, width });\r\n  A.addMegaDrop(addSegment, { length: dropLen, pitchStep: Math.PI/110, width });\r\n  A.addBankedTurn(addSegment, { segments: turnSegments, yawPerStep: Math.PI/60, bankSteps: 3, bankStep: Math.PI/40, direction: -1, width });\r\n}\r\n\r\nexport default {\r\n  addLongWeaveDescent,\r\n  addTabletopSequence,\r\n  addSpiralStairDescent,\r\n  addSwitchbackDescent,\r\n};\r\n\r\n\r\n"],"names":["addLongWeaveDescent","addSegment","length","pitchStep","weaveAmp","width","i","weave","addTabletopSequence","count","up","gap1","mid","gap2","down","landingLen","landingWidth","t","A","addSpiralStairDescent","turns","segmentsPerTurn","direction","pitchPerStep","addSwitchbackDescent","dropLen","turnSegments","Presets"],"mappings":"2CAIO,SAASA,EAAoBC,EAAY,CAC9C,OAAAC,EAAS,GACT,UAAAC,EAAY,KAAK,GAAG,IACpB,SAAAC,EAAW,KAAK,GAAG,IACnB,MAAAC,EAAQ,EACV,EAAI,GAAI,CACN,QAASC,EAAI,EAAGA,EAAIJ,EAAQI,IAAK,CAC/B,MAAMC,EAAQ,KAAK,IAAID,EAAI,GAAI,EAAIF,EACnCH,EAAW,CAAE,SAAUM,EAAO,WAAYJ,EAAW,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAAE,CAAK,CAAE,CAAC,CAAE,CACtF,CACF,CAGO,SAASG,EAAoBP,EAAY,CAC9C,MAAAQ,EAAQ,EACR,GAAAC,EAAK,EACL,KAAAC,EAAO,EACP,IAAAC,EAAM,EACN,KAAAC,EAAO,EACP,KAAAC,EAAO,EACP,MAAAT,EAAQ,GACR,WAAAU,EAAa,GACb,aAAAC,EAAe,EACjB,EAAI,GAAI,CACN,QAASC,EAAI,EAAGA,EAAIR,EAAOQ,IAAK,CAC9BC,EAAE,kBAAkBjB,EAAY,CAAE,GAAAS,EAAI,IAAKC,EAAM,KAAM,EAAG,aAAc,EAAG,MAAAN,EAAO,WAAYO,EAAK,aAAcP,CAAK,CAAE,EACxH,QAASC,EAAI,EAAGA,EAAIO,EAAMP,IAAKL,EAAW,CAAE,MAAO,EAAI,CAAE,EACzD,QAASK,EAAI,EAAGA,EAAIQ,EAAMR,IAAKL,EAAW,CAAE,WAAY,CAAC,KAAK,GAAG,GAAI,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAAI,EAAO,CAAC,CAAE,EACpG,QAASC,EAAI,EAAGA,EAAIS,EAAYT,IAAKL,EAAW,CAAE,MAAO,CAAC,CAAE,OAAQ,EAAG,MAAOe,CAAY,CAAE,CAAC,CAAE,CACjG,CACF,CAGO,SAASG,EAAsBlB,EAAY,CAChD,MAAAmB,EAAQ,IACR,gBAAAC,EAAkB,GAClB,UAAAC,EAAY,EACZ,MAAAjB,EAAQ,GACR,aAAAkB,EAAe,KAAK,GAAG,GACzB,EAAI,GAAI,CACNL,EAAE,iBAAiBjB,EAAY,CAAE,MAAAmB,EAAO,gBAAAC,EAAiB,UAAAC,EAAW,MAAAjB,EAAO,aAAAkB,CAAY,CAAE,CAC3F,CAGO,SAASC,EAAqBvB,EAAY,CAC/C,QAAAwB,EAAU,GACV,aAAAC,EAAe,GACf,MAAArB,EAAQ,EACV,EAAI,GAAI,CACNa,EAAE,YAAYjB,EAAY,CAAE,OAAQwB,EAAS,UAAW,KAAK,GAAG,IAAK,MAAApB,CAAK,CAAE,EAC5Ea,EAAE,cAAcjB,EAAY,CAAE,SAAUyB,EAAc,WAAY,KAAK,GAAG,GAAI,UAAW,EAAG,SAAU,KAAK,GAAG,GAAI,UAAW,EAAG,MAAArB,CAAK,CAAE,EACvIa,EAAE,YAAYjB,EAAY,CAAE,OAAQwB,EAAS,UAAW,KAAK,GAAG,IAAK,MAAApB,CAAK,CAAE,EAC5Ea,EAAE,cAAcjB,EAAY,CAAE,SAAUyB,EAAc,WAAY,KAAK,GAAG,GAAI,UAAW,EAAG,SAAU,KAAK,GAAG,GAAI,UAAW,GAAI,MAAArB,CAAK,CAAE,CAC1I,CAEA,MAAAsB,EAAe,CACb,oBAAA3B,EACA,oBAAAQ,EACA,sBAAAW,EACA,qBAAAK,CACF"}