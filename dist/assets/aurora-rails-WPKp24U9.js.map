{"version":3,"file":"aurora-rails-WPKp24U9.js","sources":["../../src/shaders/aurora-rails.js"],"sourcesContent":["/**\r\n * Aurora Rails Shader\r\n * Glowing rails for visibility on dark aurora backgrounds\r\n */\r\n\r\nexport default {\r\n  vertexShader: `\r\n    varying vec2 vUv;\r\n    varying vec3 vWorldPosition;\r\n    varying vec3 vNormal;\r\n    \r\n    void main() {\r\n      vUv = uv;\r\n      vNormal = normalize(normalMatrix * normal);\r\n      vec4 worldPosition = modelMatrix * vec4(position, 1.0);\r\n      vWorldPosition = worldPosition.xyz;\r\n      gl_Position = projectionMatrix * modelViewMatrix * vec4(position, 1.0);\r\n    }\r\n  `,\r\n  \r\n  fragmentShader: `\r\n    uniform float time;\r\n    uniform vec3 baseColor;\r\n    \r\n    varying vec2 vUv;\r\n    varying vec3 vWorldPosition;\r\n    varying vec3 vNormal;\r\n    \r\n    void main() {\r\n      // Base glowing color for rails\r\n      vec3 glowColor = vec3(0.8, 0.9, 1.0); // Light blue-white glow\r\n      \r\n      // Edge glow effect based on view angle\r\n      vec3 viewDir = normalize(cameraPosition - vWorldPosition);\r\n      float edgeFactor = 1.0 - abs(dot(viewDir, vNormal));\r\n      float glow = pow(edgeFactor, 1.5);\r\n      \r\n      // Pulsing effect\r\n      float pulse = sin(time * 2.0) * 0.2 + 0.8;\r\n      \r\n      // Energy flow along rails\r\n      float flowPattern = sin(vUv.x * 10.0 - time * 3.0) * 0.5 + 0.5;\r\n      flowPattern = smoothstep(0.3, 0.7, flowPattern);\r\n      \r\n      // Combine effects\r\n      vec3 finalColor = glowColor * (0.6 + glow * 0.4) * pulse;\r\n      finalColor += vec3(0.3, 0.5, 0.8) * flowPattern * 0.3;\r\n      \r\n      // Ensure rails are always visible\r\n      float minBrightness = 0.4;\r\n      finalColor = max(finalColor, vec3(minBrightness));\r\n      \r\n      gl_FragColor = vec4(finalColor, 1.0);\r\n    }\r\n  `,\r\n  \r\n  uniforms: {\r\n    time: { value: 0 },\r\n    baseColor: { value: [0.7, 0.8, 0.9] }\r\n  }\r\n};"],"names":["auroraRails"],"mappings":"AAKA,MAAAA,EAAe,CACb,aAAc;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAcd,eAAgB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,IAoChB,SAAU,CACR,KAAM,CAAE,MAAO,CAAC,EAChB,UAAW,CAAE,MAAO,CAAC,GAAK,GAAK,EAAG,CAAC,CACvC,CACA"}