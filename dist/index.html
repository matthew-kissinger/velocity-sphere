<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Velocity Sphere – Gravity Racing Game</title>
  <script type="module" crossorigin src="/velocity-sphere/assets/main-DX4kfyFT.js"></script>
  <link rel="stylesheet" crossorigin href="/velocity-sphere/assets/main-DIsWBynZ.css">
</head>
<body>
  <!-- Game HUD -->
  <div id="hud" class="hud">
    <div class="hud-panel top-left">
      <div id="levelDisplay" class="hud-item">Level: 1</div>
      <div id="timer" class="hud-item">Time: 0.00 s</div>
      <div id="speedometer" class="hud-item">Speed: 0.0</div>
      <div id="bestTime" class="hud-item">Best: --:--</div>
      <div id="boostStatus" class="hud-item">Boost: Ready</div>
    </div>
  </div>

  <!-- Start Screen -->
  <div id="startScreen" class="start-screen">
    <canvas id="start-background-canvas"></canvas>
    <div class="start-content">
      <h1 class="game-title">
        <span class="velocity">VELOCITY</span>
        <span class="sphere">SPHERE</span>
      </h1>
      <div class="subtitle">Gravity Racing Championship</div>
      
      <div class="circuit-selection">
        <h2>Select Circuit</h2>
        
        <!-- Circuit Alpha -->
        <div class="circuit-container circuit-alpha">
          <div class="circuit-header" onclick="toggleCircuit('alpha')">
            <div class="circuit-info">
              <span class="circuit-name">Circuit Prismatic</span>
              <span class="circuit-progress">10/10 tracks</span>
            </div>
            <span class="circuit-toggle">▼</span>
          </div>
          
          <div class="circuit-content" id="circuit-alpha">
            <!-- Easy -->
            <div class="difficulty-row">
              <span class="difficulty-label easy">EASY</span>
              <div class="track-list">
                <button class="track-btn easy" data-level="1">
                  <span class="track-number">01</span>
                  <span class="track-name">Sunrise</span>
                </button>
              </div>
            </div>
            
            <!-- Medium -->
            <div class="difficulty-row">
              <span class="difficulty-label medium">MEDIUM</span>
              <div class="track-list">
                <button class="track-btn medium" data-level="3">
                  <span class="track-number">03</span>
                  <span class="track-name">Spectrum</span>
                </button>
                <button class="track-btn medium" data-level="4">
                  <span class="track-number">04</span>
                  <span class="track-name">Matrix</span>
                </button>
                <button class="track-btn medium" data-level="5">
                  <span class="track-number">05</span>
                  <span class="track-name">Crystaline</span>
                </button>
                <button class="track-btn medium" data-level="6">
                  <span class="track-number">06</span>
                  <span class="track-name">Inferno</span>
                </button>
                <button class="track-btn medium" data-level="7">
                  <span class="track-number">07</span>
                  <span class="track-name">Voltage</span>
                </button>
              </div>
            </div>
            
            <!-- Hard -->
            <div class="difficulty-row">
              <span class="difficulty-label hard">HARD</span>
              <div class="track-list">
                <button class="track-btn hard" data-level="2">
                  <span class="track-number">02</span>
                  <span class="track-name">Neon Grid</span>
                </button>
              </div>
            </div>
            
            <!-- Extreme -->
            <div class="difficulty-row">
              <span class="difficulty-label extreme">EXTREME</span>
              <div class="track-list">
                <button class="track-btn extreme" data-level="8">
                  <span class="track-number">08</span>
                  <span class="track-name">Hyperdrive</span>
                </button>
                <button class="track-btn extreme" data-level="9">
                  <span class="track-number">09</span>
                  <span class="track-name">Cyberflow</span>
                </button>
                <button class="track-btn extreme" data-level="10">
                  <span class="track-number">10</span>
                  <span class="track-name">Apex</span>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Circuit Beta -->
        <div class="circuit-container circuit-beta">
          <div class="circuit-header" onclick="toggleCircuit('beta')">
            <div class="circuit-info">
              <span class="circuit-name">Circuit Beta: Elemental Odyssey</span>
              <span class="circuit-progress">10/10 tracks</span>
            </div>
            <span class="circuit-toggle">▼</span>
          </div>
          
          <div class="circuit-content" id="circuit-beta">
            <!-- Easy -->
            <div class="difficulty-row">
              <span class="difficulty-label easy">EASY</span>
              <div class="track-list">
                <button class="track-btn easy" data-level="11">
                  <span class="track-number">11</span>
                  <span class="track-name">Ocean Drift</span>
                </button>
              </div>
            </div>
            
            <!-- Medium -->
            <div class="difficulty-row">
              <span class="difficulty-label medium">MEDIUM</span>
              <div class="track-list">
                <button class="track-btn medium" data-level="12">
                  <span class="track-number">12</span>
                  <span class="track-name">Desert Mirage</span>
                </button>
                <button class="track-btn medium" data-level="13">
                  <span class="track-number">13</span>
                  <span class="track-name">Forest Trail</span>
                </button>
                <button class="track-btn medium" data-level="14">
                  <span class="track-number">14</span>
                  <span class="track-name">Metal Forge</span>
                </button>
                <button class="track-btn medium" data-level="15">
                  <span class="track-number">15</span>
                  <span class="track-name">Cloud Nine</span>
                </button>
                <button class="track-btn medium" data-level="16">
                  <span class="track-number">16</span>
                  <span class="track-name">Cave Crystal</span>
                </button>
              </div>
            </div>
            
            <!-- Hard -->
            <div class="difficulty-row">
              <span class="difficulty-label hard">HARD</span>
              <div class="track-list">
                <button class="track-btn hard" data-level="17">
                  <span class="track-number">17</span>
                  <span class="track-name">Storm Chase</span>
                </button>
                <button class="track-btn hard" data-level="19">
                  <span class="track-number">19</span>
                  <span class="track-name">Arctic Rush</span>
                </button>
              </div>
            </div>
            
            <!-- Extreme -->
            <div class="difficulty-row">
              <span class="difficulty-label extreme">EXTREME</span>
              <div class="track-list">
                <button class="track-btn extreme" data-level="18">
                  <span class="track-number">18</span>
                  <span class="track-name">Magma Core</span>
                </button>
                <button class="track-btn extreme" data-level="20">
                  <span class="track-number">20</span>
                  <span class="track-name">Elemental Nexus</span>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Circuit Gamma -->
        <div class="circuit-container circuit-gamma">
          <div class="circuit-header" onclick="toggleCircuit('gamma')">
            <div class="circuit-info">
              <span class="circuit-name">Circuit Gamma: Quantum Odyssey</span>
              <span class="circuit-progress">10/10 tracks</span>
            </div>
            <span class="circuit-toggle">▼</span>
          </div>
          
          <div class="circuit-content" id="circuit-gamma">
            <!-- Medium -->
            <div class="difficulty-row">
              <span class="difficulty-label medium">MEDIUM</span>
              <div class="track-list">
                <button class="track-btn medium" data-level="22">
                  <span class="track-number">22</span>
                  <span class="track-name">Rolling Thunder</span>
                </button>
              </div>
            </div>
            
            <!-- Hard -->
            <div class="difficulty-row">
              <span class="difficulty-label hard">HARD</span>
              <div class="track-list">
                <button class="track-btn hard" data-level="21">
                  <span class="track-number">21</span>
                  <span class="track-name">Quantum Flux</span>
                </button>
                <button class="track-btn hard" data-level="23">
                  <span class="track-number">23</span>
                  <span class="track-name">Channel 23</span>
                </button>
                <button class="track-btn hard" data-level="24">
                  <span class="track-number">24</span>
                  <span class="track-name">Neon Drift</span>
                </button>
                <button class="track-btn hard" data-level="25">
                  <span class="track-number">25</span>
                  <span class="track-name">Volcanic Ascent</span>
                </button>
              </div>
            </div>
            
            <!-- Extreme -->
            <div class="difficulty-row">
              <span class="difficulty-label extreme">EXTREME</span>
              <div class="track-list">
                <button class="track-btn extreme" data-level="26">
                  <span class="track-number">26</span>
                  <span class="track-name">Time Warp</span>
                </button>
                <button class="track-btn extreme" data-level="27">
                  <span class="track-number">27</span>
                  <span class="track-name">Ice Canyon</span>
                </button>
                <button class="track-btn extreme" data-level="28">
                  <span class="track-number">28</span>
                  <span class="track-name">Zen Garden</span>
                </button>
                <button class="track-btn extreme" data-level="29">
                  <span class="track-number">29</span>
                  <span class="track-name">Quantum Tunnels</span>
                </button>
                <button class="track-btn extreme" data-level="30">
                  <span class="track-number">30</span>
                  <span class="track-name">Ultimate Circuit</span>
                </button>
              </div>
            </div>
          </div>
        </div>
        
        <!-- Circuit Delta -->
        <div class="circuit-container circuit-delta">
          <div class="circuit-header" onclick="toggleCircuit('delta')">
            <div class="circuit-info">
              <span class="circuit-name">Circuit Delta: Tranquil Realms</span>
              <span class="circuit-progress">10/10 tracks</span>
            </div>
            <span class="circuit-toggle">▼</span>
          </div>
          
          <div class="circuit-content" id="circuit-delta">
            <!-- Medium -->
            <div class="difficulty-row">
              <span class="difficulty-label medium">MEDIUM</span>
              <div class="track-list">
                <button class="track-btn medium" data-level="31">
                  <span class="track-number">31</span>
                  <span class="track-name">Zen Garden Path</span>
                </button>
                <button class="track-btn medium" data-level="32">
                  <span class="track-number">32</span>
                  <span class="track-name">Sakura Spiral</span>
                </button>
                <button class="track-btn medium" data-level="33">
                  <span class="track-number">33</span>
                  <span class="track-name">Moonlit Lake</span>
                </button>
              </div>
            </div>
            
            <!-- Hard -->
            <div class="difficulty-row">
              <span class="difficulty-label hard">HARD</span>
              <div class="track-list">
                <button class="track-btn hard" data-level="34">
                  <span class="track-number">34</span>
                  <span class="track-name">Bamboo Grove</span>
                </button>
                <button class="track-btn hard" data-level="35">
                  <span class="track-number">35</span>
                  <span class="track-name">Cloud Temple</span>
                </button>
              </div>
            </div>
            
            <!-- Extreme -->
            <div class="difficulty-row">
              <span class="difficulty-label extreme">EXTREME</span>
              <div class="track-list">
                <button class="track-btn extreme" data-level="36">
                  <span class="track-number">36</span>
                  <span class="track-name">Aurora Fields</span>
                </button>
                <button class="track-btn extreme" data-level="37">
                  <span class="track-number">37</span>
                  <span class="track-name">Crystal Cavern Zen</span>
                </button>
                <button class="track-btn extreme" data-level="38">
                  <span class="track-number">38</span>
                  <span class="track-name">Sunset Coast</span>
                </button>
                <button class="track-btn extreme" data-level="39">
                  <span class="track-number">39</span>
                  <span class="track-name">Floating Gardens</span>
                </button>
                <button class="track-btn extreme" data-level="40">
                  <span class="track-number">40</span>
                  <span class="track-name">Harmony Circuit</span>
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="controls-info">
        <h3>Controls</h3>
        <div class="controls-grid">
          <div class="control-item">
            <kbd>W A S D</kbd> or <kbd>↑ ← ↓ →</kbd>
            <span>Steer</span>
          </div>
          <div class="control-item">
            <kbd>SPACE</kbd>
            <span>Jump</span>
          </div>
          <div class="control-item">
            <kbd>SHIFT</kbd>
            <span>Boost (8s cooldown, 4x speed)</span>
          </div>
          <div class="control-item">
            <kbd>R</kbd>
            <span>Restart</span>
          </div>
          <div class="control-item">
            <kbd>F</kbd>
            <span>Toggle FPS Stats</span>
          </div>
          <div class="control-item">
            <kbd>1-9, 0</kbd>
            <span>Levels 1-10</span>
          </div>
          <div class="control-item">
            <kbd>Shift + 1-9, 0</kbd>
            <span>Levels 11-20</span>
          </div>
          <div class="control-item">
            <kbd>ESC</kbd>
            <span>Return to Menu</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Loading Screen -->
  <div id="loadingScreen" class="loading-screen hidden">
    <div class="loading-content">
      <div class="loading-spinner"></div>
      <div class="loading-text">Loading Track...</div>
    </div>
  </div>

  <!-- Mobile Controls -->
  <div id="mobileControls" class="mobile-controls hidden">
    <div id="joystickZone" class="joystick-zone"></div>
    <div class="action-buttons">
      <button id="boostButton" class="boost-button">
        <span class="boost-icon">⚡</span>
        <span class="boost-text">BOOST</span>
      </button>
      <button id="jumpButton" class="jump-button">
        <span class="jump-icon">↑</span>
        <span class="jump-text">JUMP</span>
      </button>
    </div>
  </div>

  <!-- Completion Screen -->
  <div id="completionScreen" class="completion-screen hidden">
    <div class="completion-content">
      <h2 class="completion-title">RACE COMPLETE!</h2>
      <div id="completionTime" class="completion-time">Time: 0.00s</div>
      <div id="completionBest" class="completion-best">Best: 0.00s</div>
      <div class="completion-buttons">
        <button id="retryButton" class="completion-btn">
          <span class="btn-key">R</span>
          <span>Retry Level</span>
        </button>
        <button id="menuButton" class="completion-btn">
          <span class="btn-key">ESC</span>
          <span>Back to Menu</span>
        </button>
      </div>
    </div>
  </div>

  
  <script>
    // Circuit toggle functionality with smooth transitions
    function toggleCircuit(circuitId) {
      const content = document.getElementById(`circuit-${circuitId}`);
      const toggle = document.querySelector(`[onclick="toggleCircuit('${circuitId}')"] .circuit-toggle`);
      
      if (content.classList.contains('open')) {
        content.classList.remove('open');
        toggle.textContent = '▼';
      } else {
        // Close other circuits first
        document.querySelectorAll('.circuit-content.open').forEach(el => {
          el.classList.remove('open');
        });
        document.querySelectorAll('.circuit-toggle').forEach(el => {
          el.textContent = '▼';
        });
        
        content.classList.add('open');
        toggle.textContent = '▲';
      }
    }
    
    // Initialize immediately - no DOMContentLoaded delay
    (function() {
      // All circuits start collapsed
      // No need to do anything since they're closed by default
    })();
  </script>
</body>
</html>